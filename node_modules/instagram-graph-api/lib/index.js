"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var t,s,r,a,i,n,o,d,p,u,c,h,l,g,m,x,M,I,w,R,_=e(require("axios"));class E{}E.API_URL="https://graph.facebook.com";class T{constructor(e,t){this.params={access_token:e},this.apiVersion=t}config(){var e;return{params:this.params,method:this.method(),url:this.url(),baseURL:`${E.API_URL}/${null!==(e=this.apiVersion)&&void 0!==e?e:""}`}}execute(){return _.default(this.config()).then((e=>this.parseResponse(e)))}addPaging(e){this.params.before=void 0,this.params.after=void 0,this.params[e.option]=e.value}addRange(e,t){this.params.since=e,this.params.until=t}addLimit(e){this.params.limit=e}withPaging(e){return this.params.before=void 0,this.params.after=void 0,this.params[e.option]=e.value,this}withRange(e,t){return this.params.since=e,this.params.until=t,this}withLimit(e){return this.params.limit=e,this}withApiVersion(e){return this.apiVersion=e,this}method(){return"GET"}}class P extends T{constructor(e,t){super(e),this.commentId=t}url(){return`/${this.commentId}`}}class v{constructor(e){this.data=e}getData(){return this.data}}class A extends v{wasSuccessful(){return this.data.success}}class S extends P{parseResponse(e){return new A(e.data)}method(){return"DELETE"}}exports.PageField=void 0,(t=exports.PageField||(exports.PageField={})).BIOGRAPHY="biography",t.ID="id",t.IG_ID="ig_id",t.FOLLOWERS_COUNT="followers_count",t.FOLLOWS_COUNT="follows_count",t.MEDIA_COUNT="media_count",t.NAME="name",t.PROFILE_PICTURE_URL="profile_picture_url",t.USERNAME="username",exports.DayMetric=void 0,(s=exports.DayMetric||(exports.DayMetric={})).EMAIL_CONTACTS="email_contacts",s.FOLLOWER_COUNT="follower_count",s.GET_DIRECTIONS_CLICKS="get_directions_clicks",s.IMPRESSIONS="impressions",s.PHONE_CALL_CLICKS="phone_call_clicks",s.PROFILE_VIEWS="profile_views",s.REACH="reach",s.TEXT_MESSAGE_CLICKS="text_message_clicks",s.WEBSITE_CLICKS="website_clicks",exports.WeekAndMonthMetric=void 0,(r=exports.WeekAndMonthMetric||(exports.WeekAndMonthMetric={})).IMPRESSIONS="impressions",r.REACH="reach",exports.LifetimeMetric=void 0,(a=exports.LifetimeMetric||(exports.LifetimeMetric={})).AUDIENCE_CITY="audience_city",a.AUDIENCE_COUNTRY="audience_country",a.AUDIENCE_GENDER_AGE="audience_gender_age",a.AUDIENCE_LOCALE="audience_locale",a.ONLINE_FOLLOWERS="online_followers",exports.MetricPeriod=void 0,(i=exports.MetricPeriod||(exports.MetricPeriod={})).DAY="day",i.WEEK="week",i.MONTH="days_28",i.LIFETIME="lifetime",exports.PublicMediaField=void 0,(n=exports.PublicMediaField||(exports.PublicMediaField={})).CAPTION="caption",n.COMMENTS_COUNT="comments_count",n.ID="id",n.CHILDREN="children",n.LIKE_COUNT="like_count",n.MEDIA_TYPE="media_type",n.MEDIA_URL="media_url",n.OWNER="owner",n.PERMALINK="permalink",n.TIMESTAMP="timestamp",n.USERNAME="username",n.MEDIA_PRODUCT_TYPE="media_product_type",n.VIDEO_TITLE="video_title",exports.PrivateMediaField=void 0,(o=exports.PrivateMediaField||(exports.PrivateMediaField={})).IG_ID="ig_id",o.IS_COMMENT_ENABLED="is_comment_enabled",o.SHORTCODE="shortcode",o.THUMBNAIL_URL="thumbnail_url",exports.HashtagMediaField=void 0,(d=exports.HashtagMediaField||(exports.HashtagMediaField={})).CAPTION="caption",d.COMMENTS_COUNT="comments_count",d.ID="id",d.CHILDREN="children",d.LIKE_COUNT="like_count",d.MEDIA_TYPE="media_type",d.MEDIA_URL="media_url",d.PERMALINK="permalink",d.TIMESTAMP="timestamp",exports.MediaProductType=void 0,(p=exports.MediaProductType||(exports.MediaProductType={})).AD="AD",p.FEED="FEED",p.IGTV="IGTV",p.STORY="STORY",p.REEL="REELS",exports.SimplePostMetric=void 0,(u=exports.SimplePostMetric||(exports.SimplePostMetric={})).ENGAGEMENT="engagement",u.IMPRESSIONS="impressions",u.REACH="reach",u.SAVED="saved",exports.StoryMetric=void 0,(c=exports.StoryMetric||(exports.StoryMetric={})).EXITS="exits",c.IMPRESSIONS="impressions",c.REACH="reach",c.REPLIES="replies",c.TAPS_FORWARD="taps_forward",c.TAPS_BACK="taps_back",exports.AlbumMetric=void 0,(h=exports.AlbumMetric||(exports.AlbumMetric={})).CAROUSEL_ALBUM_ENGAGEMENT="carousel_album_engagement",h.CAROUSEL_ALBUM_IMPRESSIONS="carousel_album_impressions",h.CAROUSEL_ALBUM_REACH="carousel_album_reach",h.CAROUSEL_ALBUM_SAVED="carousel_album_saved",h.CAROUSEL_ALBUM_VIDEO_VIEWS="carousel_album_video_views",exports.PageOption=void 0,(l=exports.PageOption||(exports.PageOption={})).BEFORE="before",l.AFTER="after",exports.CommentField=void 0,(g=exports.CommentField||(exports.CommentField={})).HIDDEN="hidden",g.ID="id",g.LIKE_COUNT="like_count",g.MEDIA="media",g.REPLIES="replies",g.TEXT="text",g.TIMESTAMP="timestamp",g.USER="user",g.USERNAME="username",exports.ContainerField=void 0,(m=exports.ContainerField||(exports.ContainerField={})).ID="id",m.STATUS="status",m.STATUS_CODE="status_code",exports.ContentPublishingLimitFields=void 0,(x=exports.ContentPublishingLimitFields||(exports.ContentPublishingLimitFields={})).CONFIG="config",x.QUOTA_USAGE="quota_usage",exports.ApiVersion=void 0,(M=exports.ApiVersion||(exports.ApiVersion={})).V8_0="v8.0",M.V9_0="v9.0",M.V10_0="v10.0",M.V11_0="v11.0",M.V12_0="v12.0",M.V13_0="v13.0",M.V14_0="v14.0",M.V15_0="v15.0",M.V16_0="v16.0",M.V17_0="v17.0",M.V18_0="v18.0",M.LATEST="v18.0",exports.MediaTypeInResponses=void 0,(I=exports.MediaTypeInResponses||(exports.MediaTypeInResponses={})).IMAGE="IMAGE",I.VIDEO="VIDEO",I.CAROUSEL="CAROUSEL_ALBUM";class C extends v{getId(){return this.data.id}isHidden(){return this.data.hidden}getLikeCount(){return this.data.like_count}getParentMedia(){return this.data.media}getParentMediaId(){var e;return null===(e=this.data.media)||void 0===e?void 0:e.id}getReplies(){var e;return null===(e=this.data.replies)||void 0===e?void 0:e.data}getText(){return this.data.text}getTimestamp(){return this.data.timestamp}getUser(){return this.data.user}getUserId(){var e;return null===(e=this.data.user)||void 0===e?void 0:e.id}getUsername(){return this.data.username}}class y extends P{constructor(e,t,...s){super(e,t);const r=s.length>0?new Set(s):new Set(Object.values(exports.CommentField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new C(e.data)}}class O extends P{constructor(e,t,s=!0){super(e,t),this.params.hide=s}parseResponse(e){return new A(e.data)}method(){return"POST"}}class L extends v{constructor(e){super(e.data)}getIds(){return this.data.map((e=>e.id))}getTexts(){return this.data.map((e=>e.text))}getTextsMap(){return new Map(this.data.map((e=>[e.id,e.text])))}getTimestamps(){return this.data.map((e=>e.timestamp))}getTimestampsMap(){return new Map(this.data.map((e=>[e.id,e.timestamp])))}getHidden(){return this.data.map((e=>e.hidden))}getHiddenMap(){return new Map(this.data.map((e=>[e.id,e.hidden])))}getLikeCounts(){return this.data.map((e=>e.like_count))}getLikeCountsMap(){return new Map(this.data.map((e=>[e.id,e.like_count])))}getMediaObjects(){return this.data.map((e=>e.media))}getMediaObjectsMap(){return new Map(this.data.map((e=>[e.id,e.media])))}getReplies(){return this.data.map((e=>{var t;return null===(t=e.replies)||void 0===t?void 0:t.data}))}getRepliesMap(){return new Map(this.data.map((e=>{var t;return[e.id,null===(t=e.replies)||void 0===t?void 0:t.data]})))}getUsers(){return this.data.map((e=>e.user))}getUsersMap(){return new Map(this.data.map((e=>[e.id,e.user])))}getUsernames(){return this.data.map((e=>e.username))}getUsernamesMap(){return new Map(this.data.map((e=>[e.id,e.username])))}}class b extends P{url(){return`${super.url()}/replies`}}class f extends b{constructor(e,t,...s){super(e,t);const r=s.length>0?new Set(s):new Set(Object.values(exports.CommentField));r.delete(exports.CommentField.REPLIES),this.params.fields=Array.from(r).join(",")}parseResponse(e){return new L(e.data)}}class V extends v{getId(){return this.data.id}}class G extends b{constructor(e,t,s){super(e,t),this.params.message=s}parseResponse(e){return new V(e.data)}method(){return"POST"}}class D extends v{getContainerId(){return this.data.id}getContainerStatus(){return this.data.status}getContainerStatusCode(){return this.data.status_code}}class q extends T{constructor(e,t,...s){super(e),this.containerId=t;const r=s.length>0?new Set(s):new Set(Object.values(exports.ContainerField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new D(e.data)}url(){return`/${this.containerId}`}}class k{static getAllMediaFields(){return[...Object.values(exports.PublicMediaField).filter((e=>e!=exports.PublicMediaField.VIDEO_TITLE)),...Object.values(exports.PrivateMediaField)]}}class U extends T{constructor(e,...t){super(e);const s=t.length>0?new Set(t):new Set(k.getAllMediaFields());this.params.fields=Array.from(s).join(",")}}class N extends v{getIds(){return this.data.map((e=>e.id))}getChildren(){return this.data.map((e=>e.children))}getChildrenMap(){return new Map(this.data.map((e=>[e.id,e.children])))}getCaptions(){return this.data.map((e=>e.caption))}getCaptionsMap(){return new Map(this.data.map((e=>[e.id,e.caption])))}getCommentsCount(){return this.data.map((e=>e.comments_count))}getCommentsCountMap(){return new Map(this.data.map((e=>[e.id,e.comments_count])))}getIgIds(){return this.data.map((e=>e.ig_id))}getIgIdsMap(){return new Map(this.data.map((e=>[e.id,e.ig_id])))}getCommentsEnabled(){return this.data.map((e=>e.is_comment_enabled))}getCommentsEnabledMap(){return new Map(this.data.map((e=>[e.id,e.is_comment_enabled])))}getLikes(){return this.data.map((e=>e.like_count))}getLikesMap(){return new Map(this.data.map((e=>[e.id,e.like_count])))}getMediaTypes(){return this.data.map((e=>e.media_type))}getMediaTypesMap(){return new Map(this.data.map((e=>[e.id,e.media_type])))}getMediaUrls(){return this.data.map((e=>e.media_url))}getMediaUrlsMap(){return new Map(this.data.map((e=>[e.id,e.media_url])))}getMediaOwners(){return this.data.map((e=>e.owner))}getMediaOwnersMap(){return new Map(this.data.map((e=>[e.id,e.owner])))}getMediaOwnerIds(){return this.data.map((e=>{var t;return null===(t=e.owner)||void 0===t?void 0:t.id}))}getMediaOwnerIdsMap(){return new Map(this.data.map((e=>{var t;return[e.id,null===(t=e.owner)||void 0===t?void 0:t.id]})))}getPermalinks(){return this.data.map((e=>e.permalink))}getPermalinksMap(){return new Map(this.data.map((e=>[e.id,e.permalink])))}getShortcodes(){return this.data.map((e=>e.shortcode))}getShortcodesMap(){return new Map(this.data.map((e=>[e.id,e.shortcode])))}getTimestamps(){return this.data.map((e=>null!=e.timestamp?new Date(e.timestamp):void 0))}getTimestampsMap(){return new Map(this.data.map((e=>[e.id,null!=e.timestamp?new Date(e.timestamp):void 0])))}getUsernames(){return this.data.map((e=>e.username))}getUsernamesMap(){return new Map(this.data.map((e=>[e.id,e.username])))}getMediaProductTypes(){return this.data.map((e=>e.media_product_type))}getMediaProductTypesMap(){return new Map(this.data.map((e=>[e.id,e.media_product_type])))}getVideoTitles(){return this.data.map((e=>e.video_title))}getVideoTitlesMap(){return new Map(this.data.map((e=>[e.id,e.video_title])))}}class F{constructor(e){this.pagingData=e}getPaging(){return this.pagingData}getCursors(){return this.pagingData.cursors}getPrevious(){return this.pagingData.previous}getNext(){return this.pagingData.next}getBefore(){var e;return null===(e=this.pagingData.cursors)||void 0===e?void 0:e.before}getAfter(){var e;return null===(e=this.pagingData.cursors)||void 0===e?void 0:e.after}}class B extends N{constructor(e){super(e.data),this.paging=new F(e.paging)}getPaging(){return this.paging}}class H extends U{constructor(e,t,s,...r){super(e,...r.length>0?r:Object.values(exports.HashtagMediaField)),this.hashtagId=t,this.params.user_id=s}parseResponse(e){return new B(e.data)}url(){return`/${this.hashtagId}`}}class j extends H{url(){return`${super.url()}/recent_media`}}class $ extends H{url(){return`${super.url()}/top_media`}}class K extends v{constructor(e){super(e.data)}getId(){return this.data[0].id}}class W extends T{constructor(e,t,s){super(e),this.params.q=s,this.params.user_id=t}parseResponse(e){return new K(e.data)}url(){return"/ig_hashtag_search"}}class Y extends v{constructor(e){super(e.data)}getIds(){return this.data.map((e=>e.id))}}class X extends T{constructor(e,t){super(e),this.mediaId=t}parseResponse(e){return new Y(e.data)}url(){return`/${this.mediaId}/children`}}class Q extends T{constructor(e,t){super(e),this.mediaId=t}url(){return`/${this.mediaId}/comments`}}class z extends Q{constructor(e,t,...s){super(e,t);const r=s.length>0?new Set(s):new Set(Object.values(exports.CommentField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new L(e.data)}}class J extends Q{constructor(e,t,s){super(e,t),this.params.message=s}parseResponse(e){return new V(e.data)}method(){return"POST"}}class Z extends v{getId(){return this.data.id}getCaption(){return this.data.caption}getIgId(){return this.data.ig_id}getCommentsCount(){return this.data.comments_count}isCommentsEnabled(){return this.data.is_comment_enabled}getLikeCount(){return this.data.like_count}getMediaType(){return this.data.media_type}getMediaUrl(){return this.data.media_url}getOwner(){return this.data.owner}getOwnerId(){var e;return null===(e=this.data.owner)||void 0===e?void 0:e.id}getPermalink(){return this.data.permalink}getShortcode(){return this.data.shortcode}getTimestamp(){return null!=this.data.timestamp?new Date(this.data.timestamp):void 0}getUsername(){return this.data.username}getMediaProductType(){return this.data.media_product_type}getVideoTitle(){return this.data.video_title}}class ee extends U{constructor(e,t,...s){super(e,...s.length>0?s:Object.values(exports.PublicMediaField).filter((e=>e!=exports.PublicMediaField.VIDEO_TITLE))),this.mediaId=t}url(){return`/${this.mediaId}`}parseResponse(e){return new Z(e.data)}}class te extends v{getMetrics(){return this.data}getMetricByExpression(e){return this.data.find(e)}getMetricsByExpression(e){return this.data.filter(e)}getMetricByName(e,t=!0){const s=t?{sensitivity:"accent"}:{sensitivity:"case"};return this.getMetricByExpression((t=>0===t.getMetricName().localeCompare(e,void 0,s)))}getMetricsByRegex(e){const t=new RegExp(e);return this.getMetricsByExpression((e=>t.test(e.getMetricName())))}}class se{constructor(e){this.metricData=e}getMetricData(){return this.metricData}getMetricName(){return this.metricData.name}getMetricPeriod(){return this.metricData.period}getMetricTitle(){return this.metricData.title}getMetricDescription(){return this.metricData.description}getMetricId(){return this.metricData.id}getMetricValues(){return this.metricData.values}}class re extends se{getByExpression(e){return this.metricData.values.filter(e)}getGreaterThan(e){return this.getByExpression((t=>t.value>e))}getGreaterThanOrEqual(e){return this.getByExpression((t=>t.value>=e))}getLessThan(e){return this.getByExpression((t=>t.value<e))}getLessThanOrEqual(e){return this.getByExpression((t=>t.value<=e))}getEqual(e){return this.getByExpression((t=>t.value===e))}getBetween(e,t){return this.getByExpression((s=>t>s.value&&s.value>e))}getHighest(){let e;return this.metricData.values.forEach((t=>{(null==e||t.value>e.value)&&(e=t)})),e}getLowest(){let e;return this.metricData.values.forEach((t=>{(null==e||t.value<e.value)&&(e=t)})),e}}class ae extends te{constructor(e){super(e.data.map((e=>new re(e))))}}class ie extends T{constructor(e,t,s){super(e),this.mediaId=t,this.params.metric=Array.from(s).join(",")}url(){return`/${this.mediaId}/insights`}parseResponse(e){return new ae(e.data)}}class ne extends ie{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.SimplePostMetric)))}}class oe extends ie{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.StoryMetric)))}}class de extends v{getConfig(){return this.getData().config}getQuotaTotal(){var e;return null===(e=this.getData().config)||void 0===e?void 0:e.quota_total}getQuotaDuration(){var e;return null===(e=this.getData().config)||void 0===e?void 0:e.quota_duration}getQuotaUsage(){return this.getData().quota_usage}}class pe extends T{constructor(e,t,...s){super(e),this.pageId=t;const r=s.length>0?new Set(s):new Set(Object.values(exports.ContentPublishingLimitFields));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new de(e.data.data[0])}url(){return`/${this.pageId}/content_publishing_limit`}addRange(e,t){throw new Error('For GetContentPublishingLimitRequest, use "since(date)" instead.')}withRange(e,t){throw new Error('For GetContentPublishingLimitRequest, use "since(date)" instead.')}since(e){const t=new Date;if(t.setDate(t.getDate()-1),e<t)throw new ue(e);return this.params.since=Math.floor(e.getTime()/1e3),this}}class ue extends Error{constructor(e){super(`The provided date (${e}) is not valid. It has to be at most 1 day ago.`)}}class ce extends v{getId(){return this.data.id}getBiography(){return this.data.biography}getIgId(){return this.data.ig_id}getFollowers(){return this.data.followers_count}getFollows(){return this.data.follows_count}getMediaCount(){return this.data.media_count}getName(){return this.data.name}getProfilePictureUrl(){return this.data.profile_picture_url}getUsername(){return this.data.username}}class he extends T{constructor(e,t,...s){super(e),this.pageId=t;const r=s.length>0?new Set(s):new Set(Object.values(exports.PageField));this.params.fields=Array.from(r).join(",")}parseResponse(e){return new ce(e.data)}url(){return`/${this.pageId}`}}class le extends T{constructor(e,t,s){super(e),this.pageId=t,this.params.metric=Array.from(s).join(","),this.params.period=this.period()}url(){return`/${this.pageId}/insights`}}class ge extends te{constructor(e){super(e.data.map((e=>new re(e)))),this.paging=new F(e.paging)}getPaging(){return this.paging}}class me extends le{parseResponse(e){return new ge(e.data)}}class xe extends me{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.DayMetric)))}period(){return exports.MetricPeriod.DAY}}class Me extends se{constructor(e){super(e),this.value=this.metricData.values[0].value,this.endTime=new Date(this.metricData.values[0].end_time)}getValue(){return this.value}getEndTime(){return this.endTime}getKeysByExpression(e){return Object.entries(this.value).filter(e).map((([e])=>e))}getKeysByGreaterThan(e){return this.getKeysByExpression((([,t])=>t>e))}getKeysByGreaterThanOrEqualTo(e){return this.getKeysByExpression((([,t])=>t>=e))}getKeysByLessThan(e){return this.getKeysByExpression((([,t])=>t<e))}getKeysByLessThanOrEqualTo(e){return this.getKeysByExpression((([,t])=>t<=e))}getKeysByEqualTo(e){return this.getKeysByExpression((([,t])=>t===e))}getByExpression(e){const t={};return Object.entries(this.value).filter(e).forEach((([e,s])=>t[e]=s)),t}getByGreaterThan(e){return this.getByExpression((([,t])=>t>e))}getByGreaterThanOrEqualTo(e){return this.getByExpression((([,t])=>t>=e))}getByLessThan(e){return this.getByExpression((([,t])=>t<e))}getByLessThanOrEqualTo(e){return this.getByExpression((([,t])=>t<=e))}getByKeys(...e){return this.getByExpression((([t])=>e.includes(t)))}getHighest(){let e;return Object.entries(this.value).forEach((([t,s])=>{(null==e||s>e.value)&&(e={key:t,value:s})})),e}getHighestKey(){var e;return null===(e=this.getHighest())||void 0===e?void 0:e.key}getLowest(){let e;return Object.entries(this.value).forEach((([t,s])=>{(null==e||s<e.value)&&(e={key:t,value:s})})),e}getLowestKey(){var e;return null===(e=this.getLowest())||void 0===e?void 0:e.key}}class Ie extends te{constructor(e){super(e.data.map((e=>new Me(e))))}}class we extends le{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.LifetimeMetric)))}parseResponse(e){return new Ie(e.data)}period(){return exports.MetricPeriod.LIFETIME}}class Re extends me{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.WeekAndMonthMetric)))}period(){return exports.MetricPeriod.MONTH}}class _e extends me{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.WeekAndMonthMetric)))}period(){return exports.MetricPeriod.WEEK}}class Ee extends v{getAccountInfo(){return this.data}}class Te extends T{constructor(e,t){super(e),this.instagramPageId=t,this.params.fields="profile_picture_url,name,username"}parseResponse(e){return new Ee(e.data)}url(){return`/${this.instagramPageId}`}}class Pe extends N{constructor(e){super(e.data),this.paging=new F(e.paging)}getPaging(){return this.paging}}class ve extends U{constructor(e,t,...s){super(e,...s),this.pageId=t}url(){return`/${this.pageId}/media`}parseResponse(e){return new Pe(e.data)}}class Ae extends T{constructor(e,t){super(e),this.pageId=t,this.params.media_type=this.mediaType()}parseResponse(e){return new V(e.data)}url(){return`/${this.pageId}/media`}method(){return"POST"}}exports.MediaType=void 0,(w=exports.MediaType||(exports.MediaType={})).IMAGE="IMAGE",w.CAROUSEL="CAROUSEL",w.REEL="REELS",w.STORIES="STORIES";class Se extends Ae{constructor(e,t,s,r){super(e,t),this.params.caption=s,this.params.location_id=r}withCaption(e){return this.params.caption=e,this}withLocationId(e){return this.params.location_id=e,this}}class Ce extends Se{constructor(e,t,s,r,a){super(e,t,r,a),this.params.children=s}withChildren(e){return this.params.children=e,this}addChildren(...e){var t;return this.params.children=(null!==(t=this.params.children)&&void 0!==t?t:[]).concat(e),this}removeChildren(...e){var t;return this.params.children=null===(t=this.params.children)||void 0===t?void 0:t.filter((t=>!e.includes(t))),this}mediaType(){return exports.MediaType.CAROUSEL}}class ye extends Se{constructor(e,t,s,r,a,i,n=!1){super(e,t,r,a),this.params.image_url=s,this.params.user_tags=i,this.params.is_carousel=n}withUserTags(e){return this.params.user_tags=e,this}withIsCarousel(e){return this.params.is_carousel=e,this}mediaType(){return exports.MediaType.IMAGE}}class Oe extends T{constructor(e,t,s){super(e),this.pageId=t,this.params.creation_id=s}parseResponse(e){return new V(e.data)}url(){return`/${this.pageId}/media_publish`}method(){return"POST"}}class Le extends v{constructor(e){super(e.data),this.paging=new F(e.paging)}getIds(){return this.data.map((e=>e.id))}getPaging(){return this.paging}}class be extends T{constructor(e,t){super(e),this.pageId=t}parseResponse(e){return new Le({data:e.data.data,paging:e.data.paging})}url(){return`/${this.pageId}/recently_searched_hashtags`}}class fe extends T{constructor(e,t){super(e),this.pageId=t}parseResponse(e){return new Le({data:e.data.data,paging:e.data.paging})}url(){return`/${this.pageId}/stories`}}class Ve extends N{constructor(e){var t;super(e.data),this.cursors=null===(t=e.paging)||void 0===t?void 0:t.cursors}getCursors(){return this.cursors}getAfter(){var e;return null===(e=this.cursors)||void 0===e?void 0:e.after}getBefore(){var e;return null===(e=this.cursors)||void 0===e?void 0:e.before}}class Ge extends U{constructor(e,t,...s){super(e,...s.length>0?s:Object.values(exports.PublicMediaField).filter((e=>e!=exports.PublicMediaField.VIDEO_TITLE))),this.pageId=t}url(){return`/${this.pageId}/tags`}parseResponse(e){return new Ve(e.data)}}class De extends Se{constructor(e,t,s,r,a,i,n){super(e,t,r,n),this.params.video_url=s,this.params.thumb_offset=a,this.params.share_to_feed=i}withThumbOffset(e){return this.params.thumb_offset=e,this}withShareToFeed(e){return this.params.share_to_feed=e,this}mediaType(){return exports.MediaType.REEL}}class qe extends Ae{constructor(e,t){super(e,t)}mediaType(){return exports.MediaType.STORIES}}class ke extends qe{constructor(e,t,s){super(e,t),this.params.image_url=s}}class Ue extends qe{constructor(e,t,s){super(e,t),this.params.video_url=s}}exports.CONTAINER_STATUS_CODE=void 0,(R=exports.CONTAINER_STATUS_CODE||(exports.CONTAINER_STATUS_CODE={})).EXPIRED="EXPIRED",R.ERROR="ERROR",R.FINISHED="FINISHED",R.IN_PROGRESS="IN_PROGRESS",R.PUBLISHED="PUBLISHED";class Ne extends v{getAuthorizedFacebookPages(){return this.data.data}}class Fe extends v{getInstagramPageId(){return this.data.instagram_business_account.id}}class Be extends v{getLongLivedToken(){return this.data.access_token}}exports.AbstractCommentRequest=P,exports.AbstractGetHashtagMediaRequest=H,exports.AbstractGetInsightsResponse=te,exports.AbstractGetManyMediaResponse=N,exports.AbstractGetMediaInsightsRequest=ie,exports.AbstractGetMediaRequest=U,exports.AbstractGetPageInsightsRequest=le,exports.AbstractGetPageTimedInsightsRequest=me,exports.AbstractMediaCommentsRequest=Q,exports.AbstractMetric=se,exports.AbstractPostPageMediaRequest=Ae,exports.AbstractPostPageStoriesMediaRequest=qe,exports.AbstractPostPageTimelineMediaRequest=Se,exports.AbstractRepliesRequest=b,exports.AbstractRequest=T,exports.AbstractResponse=v,exports.Client=class{constructor(e,t,s){this.accessToken=e,this.pageId=t,this.apiVersion=s}getAccessToken(){return this.accessToken}getPageId(){return this.pageId}newGetPageInfoRequest(...e){return new he(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageMediaRequest(...e){return new ve(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageLifetimeInsightsRequest(...e){return new we(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageDayInsightsRequest(...e){return new xe(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageWeekInsightsRequest(...e){return new _e(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetPageMonthInsightsRequest(...e){return new Re(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetMediaInfoRequest(e,...t){return new ee(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newGetMediaChildrenRequest(e){return new X(this.accessToken,e).withApiVersion(this.apiVersion)}newGetMediaCommentsRequest(e,...t){return new z(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostMediaCommentRequest(e,t){return new J(this.accessToken,e,t).withApiVersion(this.apiVersion)}newGetSimplePostMediaInsightsRequest(e,...t){return new ne(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newGetStoryMediaInsightsRequest(e,...t){return new oe(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newGetHashtagIdRequest(e,t=this.pageId){return new W(this.accessToken,t,e).withApiVersion(this.apiVersion)}newGetHashtagRecentMediaRequest(e,t=this.pageId,...s){return new j(this.accessToken,e,t,...s).withApiVersion(this.apiVersion)}newGetHashtagTopMediaRequest(e,t=this.pageId,...s){return new $(this.accessToken,e,t,...s).withApiVersion(this.apiVersion)}newGetCommentRequest(e,...t){return new y(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostHideCommentRequest(e,t=!0){return new O(this.accessToken,e,t).withApiVersion(this.apiVersion)}newDeleteCommentRequest(e){return new S(this.accessToken,e).withApiVersion(this.apiVersion)}newGetRepliesRequest(e,...t){return new f(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostReplyRequest(e,t){return new G(this.accessToken,e,t).withApiVersion(this.apiVersion)}newGetTagsRequest(...e){return new Ge(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetContainerRequest(e,...t){return new q(this.accessToken,e,...t).withApiVersion(this.apiVersion)}newPostPagePhotoMediaRequest(e,t,s,r){return new ye(this.accessToken,this.pageId,e,t,s,r).withApiVersion(this.apiVersion)}newPostPageReelMediaRequest(e,t,s,r,a){return new De(this.accessToken,this.pageId,e,t,s,r,a).withApiVersion(this.apiVersion)}newPostPageCarouselMediaRequest(e,t,s){return new Ce(this.accessToken,this.pageId,e,t,s).withApiVersion(this.apiVersion)}newPostPageStoriesPhotoMediaRequest(e){return new ke(this.accessToken,this.pageId,e).withApiVersion(this.apiVersion)}newPostPageStoriesVideoMediaRequest(e){return new Ue(this.accessToken,this.pageId,e).withApiVersion(this.apiVersion)}newPostPublishMediaRequest(e){return new Oe(this.accessToken,this.pageId,e).withApiVersion(this.apiVersion)}newGetPageStoriesRequest(){return new fe(this.accessToken,this.pageId).withApiVersion(this.apiVersion)}newGetPageRecentlySearchedHashtagsRequest(){return new be(this.accessToken,this.pageId).withApiVersion(this.apiVersion)}newGetContentPublishingLimitRequest(...e){return new pe(this.accessToken,this.pageId,...e).withApiVersion(this.apiVersion)}newGetInstagramAccountInfoRequest(){return new Te(this.accessToken,this.pageId).withApiVersion(this.apiVersion)}},exports.CommentUpdateResponse=A,exports.ComplexMetric=Me,exports.Constants=E,exports.CreatedObjectIdResponse=V,exports.DeleteCommentRequest=S,exports.GetAlbumMediaInsightsRequest=class extends ie{constructor(e,t,...s){super(e,t,s.length>0?new Set(s):new Set(Object.values(exports.AlbumMetric)))}},exports.GetAuthorizedFacebookPagesRequest=class extends T{constructor(e){super(e)}parseResponse(e){return new Ne(e.data)}url(){return"/me/accounts"}},exports.GetAuthorizedFacebookPagesResponse=Ne,exports.GetCommentRequest=y,exports.GetCommentResponse=C,exports.GetContainerRequest=q,exports.GetContainerResponse=D,exports.GetHashtagIdRequest=W,exports.GetHashtagIdResponse=K,exports.GetHashtagMediaResponse=B,exports.GetHashtagRecentMediaRequest=j,exports.GetHashtagTopMediaRequest=$,exports.GetInstagramAccountInfoRequest=Te,exports.GetInstagramAccountInfoResponse=Ee,exports.GetLinkedInstagramAccountRequest=class extends T{constructor(e,t){super(e),this.facebookPageId=t,this.params.fields="instagram_business_account"}parseResponse(e){return new Fe(e.data)}url(){return`/${this.facebookPageId}`}},exports.GetLinkedInstagramAccountResponse=Fe,exports.GetMediaChildrenRequest=X,exports.GetMediaChildrenResponse=Y,exports.GetMediaCommentsRequest=z,exports.GetMediaInfoRequest=ee,exports.GetMediaInfoResponse=Z,exports.GetMediaInsightsResponse=ae,exports.GetObjectCommentsResponse=L,exports.GetPageDayInsightsRequest=xe,exports.GetPageInfoRequest=he,exports.GetPageInfoResponse=ce,exports.GetPageLifetimeInsightsRequest=we,exports.GetPageLifetimeInsightsResponse=Ie,exports.GetPageMediaRequest=ve,exports.GetPageMediaResponse=Pe,exports.GetPageMonthInsightsRequest=Re,exports.GetPageRecentlySearchedHashtagsRequest=be,exports.GetPageStoriesRequest=fe,exports.GetPageTimedInsightsResponse=ge,exports.GetPageWeekInsightsRequest=_e,exports.GetRepliesRequest=f,exports.GetSimplePostMediaInsightsRequest=ne,exports.GetStoryMediaInsightsRequest=oe,exports.GetTagsRequest=Ge,exports.GetTagsResponse=Ve,exports.GetUserLongLivedTokenRequest=class extends T{constructor(e,t,s){super(e),this.appId=t,this.appSecretId=s}parseResponse(e){return new Be(e.data)}url(){return["/oauth/access_token?","grant_type=fb_exchange_token&",`client_id=${this.appId}&`,`client_secret=${this.appSecretId}&`,`fb_exchange_token=${this.params.access_token}`].join("")}},exports.GetUserLongLivedTokenResponse=Be,exports.ManyIdsResponse=Le,exports.Paging=F,exports.PostHideCommentRequest=O,exports.PostMediaCommentRequest=J,exports.PostPageCarouselMediaRequest=Ce,exports.PostPagePhotoMediaRequest=ye,exports.PostPageReelMediaRequest=De,exports.PostPageStoriesPhotoMediaRequest=ke,exports.PostPageStoriesVideoMediaRequest=Ue,exports.PostPublishMediaRequest=Oe,exports.PostReplyRequest=G,exports.SimpleMetric=re,exports.Utils=k;
